"use strict";$(function(){$(".popup-with-zoom-anim").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,mainClass:"my-mfp-zoom-in"})}),$(function(){$(".form-validation").each(function(){var t=$(this).find("button[type='submit']");$(this).validate({highlight:function(i,a){$(i).parent().removeClass("form-validation__group_valid").addClass("form-validation__group_invalid"),$(i).removeClass("validation_valid").addClass("validation_invalid")},unhighlight:function(i,a){$(i).parent().removeClass("form-validation__group_invalid").addClass("form-validation__group_valid"),$(i).addClass("validation_valid").removeClass("validation_invalid")},errorElement:"span",errorClass:"form-validation__error-text",ignore:".validation_ignore",focusInvalid:!0,submitHandler:function(i){var a=$(i);return $.ajax({type:"POST",url:"./mail.php",data:a.serialize()}).done(function(i){t.attr("disabled","disabled"),$(".answer-form-show").click(),setTimeout(function(){a.trigger("reset"),t.removeAttr("disabled"),a.find(".validation_valid").removeClass("validation_valid"),a.find(".form-validation__group_valid").removeClass("form-validation__group_valid")},3e3)}),!1}})})}),$(function(){$.validator.addMethod("myEmail",function(i,a){return this.optional(a)||/^(([^<>()[\]\\.,;:\s@\']+(\.[^<>()[\]\\.,;:\s@\']+)*)|(\'.+\'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(i)},"Некорректный email"),$.validator.addMethod("validationRequired",$.validator.methods.required,"Обязательное поле!"),$.validator.addMethod("validationMinlength",$.validator.methods.minlength,"Минимум {0} символов!"),$.validator.addMethod("validationMaxlength",$.validator.methods.maxlength,"Максимум {0} символов!"),$.validator.addMethod("validationDigits",$.validator.methods.digits,"Должны быть только цифры!"),$.validator.addMethod("validationRangelength",$.validator.methods.rangelength,"Символов не менее {0} и не более {1}"),$.validator.addClassRules({validation:{validationRequired:!0},validation_email:{myEmail:!0},validation_minlength:{validationMinlength:3},validation_maxlength:{validationMaxlength:10},validation_digits:{validationDigits:!0},validation_rangelength:{validationRangelength:[3,7]}})}),$(function(){$(".answer-form__ok").click(function(){return $.magnificPopup.close(),!1})}),$(function(){function i(i){i.matches?$(".content_index").addClass("content_index-mobile"):($(".video-background__player").YTPlayer(),$(".content_index").removeClass("content_index-mobile"))}var a=window.matchMedia("screen and (max-width: 1023.9px)");a.addListener(i),i(a)}),$(function(){function i(){$(".content").customScroll("destroy");var i=$(".grid").width(),a=($(window).width()-i)/2+8,t=$(".content__withoutscroll").height();$(".content__inner").css({"padding-top":t+"px"}),$(".content").customScroll({prefix:"custom-scroll_",barMinHeight:10,offsetTop:t,offsetBottom:0,barHtml:"<div /><span />",vertical:!0,horizontal:!1}),$(".custom-scroll_bar-y").css("right",a+"px"),$(".content__inner").outerHeight()<$(window).height()&&$(".content").customScroll("destroy")}setTimeout(function(){i()},10),new ResizeSensor(jQuery(".content__withoutscroll, .content__withscroll, html"),function(){i()})}),$(function(){setTimeout(function(){$(".preloader").addClass("preloader_animated")},100),setTimeout(function(){$(".preloader").delay(350).fadeOut("slow")},4e3)});